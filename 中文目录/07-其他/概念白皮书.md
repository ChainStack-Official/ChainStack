## 摘要 

ChainStack 是一种可以在互联网的不可信通信环境中，为多台机器提供状态一致性从而实现可靠价值转移的分布式系统。

ChainStack 通过分层的智能合约设计，高频交易范式化及无许可业务创新的支持，加上原生多链/跨链/分片等多种技术综合应用，构建一个支持多行业（数字资产、供应链、共享经济、公共服务等）、多形态（链上内置范式、云服务器、小程序、侧链等）去中心化应用的原生多链系统。分层的智能合约设计将业务逻辑和状态共识分离，在减轻主链负担的同时，将跨链接口标准化，实现电信网络级别跨链通信。ChainStack遵循堆叠原则，每一层都设计成Plug-and-Play（即插即用），其中核心模块可替换，从而使得ChainStack能够提供更简便且更广泛的服务。

ChainStack 使用独创的共识机制，将出块和验证分离，在主链保持不亚于比特币的中心化程度的同时，缩短了达成共识的时间，提供了满足千万级日活（DAU）的性能。

ChainStack 的原生多链架构提供了一种主链与侧链分工合作的模式。其超轻钱包支付验证(CSPV)技术给移动用户提供了强有力的支持。CSPV技术使超轻节点需要同步的数据极少，并且不会随着区块链的增长而增长，任何移动客户端甚至智能合约的代码区都能够支持。

## 1. 区块链概述
### 1.1 背景和意义
区块链技术起源于比特币。2008年中本聪发布了《比特币 —— 一种点对点的电子现金系统》，阐述了如何运用加密算法、分布式原理、P2P网络、工作量证明等方法建立一个去中心化的数字货币体系。2009年基于这篇论文的实例——比特币问世，展示了一个无需依赖第三方来建立信任的电子货币交易系统。这个系统使用分布在所有节点的同步账本来代替传统中心服务器上的单一账本，用客观的“共识”机制来代替对中介机构的主观“信任”，实现了在无信任环境下的可靠价值转移。

比特币并没有直接提出“区块链”（Blockchain）的概念，之后人们将其使用的主要技术特征进行了总结，提出了“区块链”这个更为一般和抽象化的涵义。区块链的诞生，为人类提供了一种新型的社会信任机制，标志着人类开始构建真正可以信任的互联网，为价值互联网打下基础。

以太坊将比特币执行脚本的图灵机从不完备型改进成完备型，扩展了对可执行脚本的支持，使开发者可以在以太坊区块链平台上部署智能合约，处理更为复杂的业务逻辑。在以太坊上智能合约的创建者可以通过代码来设定业务逻辑让合约按照条件自动触发执行而无需人为干预，使合约公开透明，不可篡改。此后，区块链技术在通证发行、金融结算、数字资产交易、防伪溯源和共享经济等诸多方面的应用引起了广泛的讨论。


### 1.2 问题和挑战

基于以太坊上的各种分布式应用应运而生，这些开源的、去中心化的技术的成功是将区块链技术应用至垂直产业的有益尝试。然而，迄今为止，这些区块链暴露出的问题已经无法忽视。

- 难以满足需求的性能：随着区块链行业的火热，现有的区块链的性能难以满足用户需求的日益增长。无论是以太坊还是比特币，拥堵的网络及缓慢的交易速度都是目前面临的巨大问题。

- 面临两难的智能合约应用：智能合约面临着安全性和灵活性的两难。作为开放式的智能合约，以太坊提供给用户自由编码的能力。但智能合约的编写必须使用其特有的编程语言，提高了技术门槛。此外，智能合约的安全极大依赖于合约代码本身，容易受到黑客攻击。

- 单一的生态环境：当前区块链项目大多为无侧链的单一主链，其共识算法唯一（或称在同一时间内算法唯一）。各类共识算法均有其优缺点，其适应场景皆不相同。受限于共识算法，其区块链网络上的应用场景也如同带着镣铐跳舞。对于拥有侧链的项目，同一区块链网络中的链也难以互通，遑论协同合作。处于孤岛状态的区块链通信极大程度的限制了区块链的发挥空间，这也是目前的区块链技术难以在商业应用场景落地的一个原因。


## 2. ChainStack设计思想
ChainStack针对现有区块链的问题和挑战，提供解决方案。其设计遵循以下思想：

- 满足千万级日活应用（DAU）的性能：目前比特币、以太坊等受限于其共识算法的限制，性能方面无法满足日益增长的需求。ChainStack为高频大吞吐量的应用提供创新的共识算法，性能满足千万级日活应用（DAU）的要求，TPS达到百万级。

- 结构化的区块链系统：ChainStack通过将智能合约分层及功能模块化，提供了一个可适配、可无限Scale-up的区块链系统。ChainStack首创电信级别的跨链互通接口，允许不同链上的dApp进行状态同步,实现有效跨链交互。

- 范式化的高频应用：ChainStack上对于ERC20等高频应用提供内置范式的支持，允许用户无需编码，只需要配置参数即可运行这些高频应用。内置范式d的支持同样避免了由于用户方编程失误导致的合约漏洞。

- 更广泛及简便的开发支持：ChainStack上提供任意语言编写的dApp，允许应用开发者进行无许可创新。开发者在开发arbitrary dApp（任意分布式应用）时，并无编程语言或应用功能的限制。ChainStack组织开源社区，提供dApp市场。开发者可以根据ChainStack规范来编写dApp。

## 3. ChainStack技术框架
### 3.1 ChainStack概述
ChainStack提供了一种可适配区块链体系和一个可移动分布式应用平台，通过独创的共识机制及分层的智能合约架构，配合原生多链的系统设计，降低dApp开发门槛，将区块链技术渗透至垂直行业用户。

ChainStack同时提供一种超轻钱包支付验证，用户可在手机等移动端通过ChainStack的配置沙箱环境的钱包使用由第三方开发者开发的一系列dApp，完善ChainStack的生态系统。

### 3.2 ChainStack技术特点
- 独创的共识机制  

    ChainStack期望设计一个兼具高性能和高公平性的共识算法。传统的PoW算法提供了高度去中心化，但出块速度慢，吞吐量小，无法满足高频需求。PoS机制省略了工作量计算的步骤，出块速度快，吞吐量。但在这种算法中，资本极大影响记账权概率分配，其变种算法的DPoS机制在选代表的过程带来了博弈攻击的隐患。
    
    ChainStack主链运行特有的共识机制。该共识机制将出块和验证分权，利用独创的Map-Reduce PoW算法在缩短出块时间的同时保证了公平性。利用PBFT算法的验证过程缩短了确认时间，提高系统吞吐量。

- 分层的智能合约架构

    ChainStack遵循结构化的设计思想，把业务逻辑和状态共识剥离，在减轻了主链负荷的同时，提供了更广泛、更易用的智能合约开发支持。

    ChainStack的智能合约架构包括以下三层：  
    * 核心状态存储层：基于MPT技术，提供了一个高效的分布式应用状态存储，与此同时实现了链上有限图灵状态机。通过对智能合约进行链上的状态约束，对其合约应用边界限定，实现应用和底层区块链的安全性和性能量级的飞跃。
    * 使能层：共识通信层使用P2P通信技术和可插拔替换的共识算法，同时集成了高频的合约范式原语如ERC20/ERC721等，这一层也同时提供侧链双向锚定和跨链通信的基础能力。
    * 应用层：通过状态共识引擎提供的接口来改变应用的状态，其实现形式包括基于配置参数的链上高频、范式化的dApp，接口与共识引擎交互的云服务器，在钱包沙箱环境中运行的小程序（H5+JS），通过ChainStack提供的一键生成的自定义侧链。

- 原生多链系统

    ChainStack提供了一种原生的多链系统。这是一个结构化的区块链系统，其主链与侧链分工合作，各有其分布式网络、矿工群体、共识机制、数字资产等。ChainStack的主链负责ChainStack系统的核心操作，处理最重要的事务，维护系统的安全和稳定。ChainStack的侧链使用多态机制，根据其应用的需求特征选择合适的模式，如PoW、PoS、DPoS、PBFT，或者公链、联盟链、私链等。
    
    ChainStack同样提供了链间的原子交易的支持，这扩大了应用场景边界，并提供一个超轻钱包支付验证（CSPV）支持移动端的使用。

关于更多ChainStack架构及技术细节，请参考技术白皮书。

## 4. 应用场景
ChainStack支持多行业、多形态的去中心化应用。其应用场景包括但不限于数字资产、智能合约、供应链、共享经济、公共服务等领域。
![cwp-1](https://github.com/caiqingfeng/res/blob/master/04-whitepaper/cwp-1.jpg)


### 4.1 数字资产发行
ChainStack将ERC20进行封装并且范式化，用户可以通过调用ChainStack提供的ERC20接口，自由设定参数，从而简单快速地发行属于自己的通证。这些通证可以是提供服务的证明。

用户想要创建ERC20通证时，只需要通过钱包发起一个交易，这个交易需要带上ERC20通证的配置信息（名字、发行总量等），就可以一键创建基于ERC20标准的通证，不必担心通证代码存在漏洞导致用户利益受损的问题，安全可靠，支持ERC20所有定义的功能。

对于通证的创建、通证转账、批准他人提取通证等需要改变存储的功能都需要发起一笔交易，都需要支付一定的手续费，查询的功能（查看某个账户的通证余额、查看通证的名字等）不需要支付费用。

### 4.2 去中心化的拍卖平台
ChainStack提供了一个基于ERC721和拍卖平台的范式合约。通过ChainStack提供的ERC721接口和拍卖合约接口，用户自由设定参数，就能快速的发行一个基于ERC721通证的拍卖平台。

用户首先通过钱包发起一个交易，带上ERC721通证的相应配置，就可以建立一个ERC721通证。待ERC721创建成功后，再发起一个交易，这个交易带上拍卖平台的相关信息（相对应的ERC721通证等），将之前创建的ERC721通证与该拍卖合约绑定起来，从而创建一个拍卖平台。然后调用ERC721合约的方法，给予指定拍卖合约此通证的交易权。

ChainStack去中心化拍卖合约默认选用的拍卖方式是荷兰式拍卖，即一开始卖方设立一个最高价，价格随着时间逐渐降低，直到价格到达卖方设定的最低价，只要有人出价即成交。

这个过程由于使用了区块链的去中心化和不可逆记录，及合约的自动化，对于双方用户而言都要透明安全可靠的多。

### 4.3 去中心化的数据交易
ChainStack提供了一种去中心化，防止数据沉淀的数据交易可能。数据消费方可以采用推送小程序的方式，来主张自己想要的客户对象和相关的数据信息，并提出报价。数据提供方则通过查看小程序的内容和其报价来决定是否提供自己相应的数据和信息，并通过系统的底层区块链来完成数据确权和交易。在此过程中，小程序在钱包的沙箱环境中运行，仅发送分析结果。用户的原始数据仍保存在其本地钱包，不会被泄露。

### 4.4 自动触发的保险理赔
ChainStack提供了一个自动触发的保险理赔的可能。传统的保险理赔，需要保险机构进行资金归集、投资及理赔。尤其在理赔方面，申请过程繁复，且用时漫长。对于天气险、延误险等由客观因素可确认的保险类型，智能合约可实现将理赔条件参数化，实现保单的自动理赔和保额的自动支付。在降低了保险机构的运营成本同时，缩短了客户获得赔偿的时间，减少了申请赔付的精力。

## 5. 治理架构（基金会）
（未定，需要上层制定）

## 6. 创始团队

### 赵亮（CEO）
链栈（ChainStack）创始人，毕业于南京大学理科强化班、获美国迈阿密大学工程学硕士、博士学位。拥有十余年海外金融从业经历，在金融风险定价及市场营销领域积累了丰富的实战经验，对全球金融市场有精准的分析判断能力。曾任纽约华尔街瑞士信贷(Credit Suisse)投资银行总部要职，负责全球业务的流动性风险及资金预算。后加入美国第一资本银行（CapitalOne）任数据科学家，深耕数据建模及反欺诈领域。在算法领域有多项专利。

### 蔡庆丰（CTO）
链栈（ChainStack）联合创始人，1996年毕业于武汉大学，历任华为系统架构师，MKT营销经理、产品规划经理，东北欧核心网MKTG部长及融合通讯研发部部长。具有在互联网融合领域带领大型团队的实际经验。2014年进入区块链行业，在该行业有4年的积累。

### 赖宇鹏（COO）
链栈（ChainStack）COO，历任Hande FinMaker CCO，Rongshu FinTech CDO，银联顾问副总裁。获得武汉大学学士、日本筑波大学硕士、瑞典乌普萨拉大学博士、美国印第安纳大学MBA学位。2006年至2014年任职于Capital One，负责信用卡核心业务的模型系统建设，战略构建和客户管理。曾为十几家机构提供定量解决方案和培训，并获得了1000万的咨询收入。

### 潘路（CMO）
链栈（ChainStack）CMO，毕业于中南民族大学。12年IPO，品牌管理，运营经验。2006年-2015年就职华为，曾任华为核心网MKT总监、华为阿联酋核心网国家主管等岗位，主要负责华为融合数据中心解决方案的产品上市，品牌和运营。

### 徐杨（CSO）
链栈（ChainStack）CSO，获得新加坡管理大学学士，福德汉姆大学硕士学位。曾就职于高盛 (美国)、Capital One (美国)、安永 (新加坡)。拥有丰富的运营领导、项目管理和财务分析经验。
## 7. RoadMap
（鉴于发布时间未定，roadmap未定）
